<div class="sidebar">
    <div class="sidebar-menu">
        <div class="sidebar-look">
            <div class="look-mask"></div>
            <img src="<{$css_url}>/cooperate/amazon/css/img/man.jpg" height="106" width="106">
        </div>
        <p class="sidebar-phone">188****8888</p>
        <a href="#" class="place-order" data-model="model">立即下单</a>
        <ul class="sidebar-tree" id="person_menu">
            <li class="sidebar-trunk">
                <p class="sidebar-trunk-title">基本资料</p>
                <ul class="sidebar-leaves">
                    <li class="sidebar-leaf ">基本信息</li>
                    <li class="sidebar-leaf ">修改密码</li>
                    <li class="sidebar-leaf ">更换手机</li>
                </ul>
            </li>
            <li class="sidebar-trunk">
                <p class="sidebar-trunk-title">我的订单</p>
                <ul class="sidebar-leaves tree-open">
                    <li class="sidebar-leaf tree-selected"><a href="/user/cooperate/user/myOrderList">我的订单</a></li>
                </ul>
            </li>
            <li class="sidebar-trunk">
                <p class="sidebar-trunk-title">我的钱包</p>
                <ul class="sidebar-leaves">
                    <li class="sidebar-leaf">钱包管理</li>
                    <li class="sidebar-leaf">交易明细</li>
                    <li class="sidebar-leaf">银行卡管理</li>
                </ul>
            </li>
            <li class="sidebar-trunk">
                <p class="sidebar-trunk-title">我的优惠券</p>
                <ul class="sidebar-leaves">
                    <li class="sidebar-leaf">我的优惠券</li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<script>
    $(function () {
        handleTreeClick();
    })
    //树的点击事件
    function handleTreeClick() {
        var $menu = $('#person_menu'), nav = window.localStorage.nav;
        nav = nav ? nav : '我的订单';
        $menu.find('.sidebar-leaf').each(function () {
            var $this = $(this), $a = $this.find('a');
            $.trim($a.text()) == nav && $this.addClass('tree-selected').closest('.sidebar-leaves').addClass('tree-open');
            $a.attr('data-url', $a.attr('href')).attr('href', 'javascript:;');
        });
        $menu.on('click', '.sidebar-trunk-title,.sidebar-leaf', function () {
            var $this = $(this), $select = $this.find('a');
            $this.hasClass('sidebar-trunk-title') && $this.next('.sidebar-leaves').toggleClass('tree-open')
            if ($this.hasClass('sidebar-leaf')) {
                window.localStorage.nav = $select.text();
                window.location.href = $select.attr('data-url');
            }
        })
    }
</script>